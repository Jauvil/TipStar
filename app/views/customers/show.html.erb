<h1><%= @customer.address %></h1>
</br>
</br>
<% tip_array = @customer.tips.sort_by{ |tip| [tip.dollar, tip.cent]} %>
<% if tip_array.count.even? %>
<% center = tip_array.count / 2 %>
<% else %>
<% center = (tip_array.count + 1) / 2 %>
<% end %>
<%= tip_array %>
<% median_tip = tip_array[center] %>
<% high_tip = tip_array.last %>
<% last_tip = @customer.tips.last %>
<% if last_tip != nil %>
<h4>Most recent tip: $<%= last_tip.dollar %>.<%= last_tip.cent %></h4>
<% else %>
<h4>Enter a tip below to begin tracking gratuities.</h4>
<% end %>
</br>
<% if median_tip != nil %>
<h4>Average tip: $<%= median_tip.dollar %>.<%= median_tip.cent %></h4>
<% end %>
</br>
<% if high_tip != nil %>
<h4>Highest tip: $<%= high_tip.dollar %>.<%= high_tip.cent %></h4>
<% end %>
</br>
</br>
<h3>Enter a tip for customer:</h3>
<%= render 'tips/form' %>
<%= link_to "Customer Index", root_path %>
</br>
</br>
<%= link_to "Did this customer move?", 
edit_customer_path(@customer) %>
</br>
</br>
<%= link_to "Delete Customer", customer_path(@customer),
method: :delete, data: { confirm: "Delete this customer?"} %>
